@model GCNI.Models.GCNIModel

@{
    ViewBag.Title = "CareersManagement";
    Layout = "~/Views/Shared/AdminMaster.cshtml";
}
@*<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>PublicationManagement</title>

<link type="text/css" rel="stylesheet" href="~/css/demo.css">
<link type="text/css" rel="stylesheet" href="~/css/jquery-te-1.4.0.css">
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js" charset="utf-8"></script>
<script type="text/javascript" src="~/js/jquery-te-1.4.0.min.js" charset="utf-8"></script>
</head> 
    <body>*@
<style>
     .tbtext {
	border:2px solid #456879;
	border-radius:10px;
	height: 30px;
	width: 500px;
    padding: 7px
}
.tbtextdesc {
	border:2px solid #456879;
	border-radius:10px;
	height: 100px;
	width: 500px;
    padding: 7px
}
</style>
@*<div class="dropdown" style="position: absolute;top: -12px;right: 171px;">
                 <input type="text" name="orderstatus" id="orderstatus" style="height:31px;width:200px;"/>
    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Select Options
    <span class="caret"></span></button>
    <ul class="dropdown-menu" id="ThinkDDL">
      <li><a href="#" id="op1" data-op="Processing">Processing</a></li>
      <li><a href="#" id="op2" data-op="shipped">shipped</a></li>
      <li><a href="#" id="op3" data-op="Delivered">Delivered</a></li>
    </ul>
  </div>*@
            <div class="container">
  <div class="dropdown" style="width:265px;">
    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" style="width:265px;">Select Category
    <span class="caret"></span></button>
    <ul class="dropdown-menu" id="ThinkDDL">
      <li><a href="#" data-op="1">Heading</a></li>
      <li><a href="#" data-op="2">Job opportunities</a></li>
      <li><a href="#" data-op="3">opportunities With Our Partners</a></li>
    </ul>
  </div>
</div>
@using (Html.BeginForm("CareersManagement", "Admin", FormMethod.Post, new { @enctype = "multipart/form-data" }))
{ 
@*<table border="1" bgcolor="red" width="100%">
    <tr>
        <td align="center"><a href="~/Admin/EventManagement">Event</a></td>
        <td align="center"><a href="~/Admin/PublicationManagement">Publication</a></td>
        <td align="center"><a href="~/Admin/NewsManagement">News</a></td>
        <td align="center"><a href="~/Admin/ArticleManagement">Article</a></td>
    </tr>
    </table>
*@<center><p>Careers Management</p></center>
<center><table style="width: 80%;" border="1">
    <tr>
        <td colspan="2" align="center" height="30"><h2 id="msg">@ViewBag.Message</h2></td>
    </tr>
    <tr>
        <td>Category</td>
        <td>@Html.TextBoxFor(M => M.objCarrers_M.Category, new { @id="Cat", @Maxlength="100", @size="50",@class="tbtext3", @onblur = "msgclear();"})</td>
    </tr>
    <tr id="t1">
        <td>Heading</td>
        <td>@Html.TextBoxFor(M => M.objCarrers_M.Heading, new { @id="Head", @Maxlength="200", @size="50",@class="tbtext", @onblur = "msgclear();"})</td>
    </tr>
    <tr id="t2">
        <td>Job Title</td>
        <td>@Html.TextBoxFor(M => M.objCarrers_M.JobTitle, new { @id="JOBTitle", @Maxlength="100", @size="50",@class="tbtext", @onblur = "msgclear();"})</td>
    </tr>
    <tr id="t3">
        <td>Duration</td>
        <td>@Html.TextBoxFor(M => M.objCarrers_M.Duration, new { @id="Duration", @Maxlength="50", @size="50",@class="tbtext", @onblur = "msgclear();"})</td>
    </tr>
    <tr id="t4">
        <td>Job Description</td>
        <td>@Html.TextBoxFor(M => M.objCarrers_M.JobDescription, new { @id="JOBDesc",@class= "tbtextdesc", @Maxlength="500", @onblur = "msgclear();" })</td>
    </tr>
    <tr id="t5">
        <td>Apply Link</td>
        <td>@Html.TextBoxFor(M => M.objCarrers_M.ApplyEmail, new { @id="APLINK",@class="tbtext", @Maxlength="200", @onblur = "msgclear();" })</td>
    </tr>
    <tr id="t6">
        <td>Partner’s Heading</td>
        <td>@Html.TextBoxFor(M => M.objCarrers_M.LastHead, new { @id="PertnerHead",@class="tbtext", @Maxlength="200", @onblur = "msgclear();" })</td>
    </tr>
    <tr id="t7">
        <td>Partner's Link</td>
        <td>@Html.TextBoxFor(M => M.objCarrers_M.LinkEmail, new { @id="PartnerLink",@class="tbtext", @Maxlength="200", @onblur = "msgclear();" })</td>
    </tr>
    @*<tr>
        <td>Display On Home Page</td>
        <td>@Html.CheckBoxFor(M => M.objPublicationtM.IsDisplayOnHome, new {@id="IsDisp"})</td>
    </tr>*@
    <tr >
        <td align="Center" colspan="2"><input class="btn btn-primary" id="Submit" type="submit" value="Save" name="btntype" onclick="return Validate();" /></td>
        @*<td align="Center"><input id="Delete" type="submit" value="Delete" name="btntype" onclick="return Validate();" /></td>*@
    </tr>
</table></center>
    <br />
    <center>
    <table id="tblData1" class="CSSTableGenerator">
        <tr bgcolor="lightgray">
            <td colspan="6"><b>Heading Data Table</b></td>
        </tr>
        <tr>
            @*<th align="center">ID</th>*@
            <td>Category</td>
            <td>Main Heading</td>
            <td width="170" align="center">Action</td>
        </tr>
        @foreach (GCNI.Models.Carrers obj in Model.objCarrers_ML)
        {
            if (obj.Category == "Heading")
            {
                <tr>
                    <td>
                       <span>@Html.Raw(obj.Category)</span>
                    </td>
                    <td>
                       <span>@Html.Raw(obj.Heading)</span>
                    </td>
                    <td>
                       <input type="hidden" value='@obj.id' data-Cat='@obj.Category' data-head='@obj.Heading'/>
                       <span><input id="Edit" class="testbutton1" type="Submit" value="Edit" name="btntype" onclick="FillEdit('tblData1',@obj.id); return false;" />@*<a href="#" onclick="FillEdit(@obj.id); return false;">Edit</a>*@ / <input id="Delete" class="testbutton1" type="submit" value="Delete" name="btntype" onclick="Deleterecord(@obj.id);"/>@*<a href="#" onclick="Deleterecord(@obj.id); return false;">Delete</a></span>*@
                    </td>
                </tr>
            }
        }
    </table>
    <table id="tblData2" class="CSSTableGenerator">
        <tr bgcolor="lightgray">
            <td colspan="6"><b>Jobs Data Table</b></td>
        </tr>
            <tr>
                <td>Category</td>
                <td>Job Title</td>
                <td>Duration</td>
                <td>Job Description</td>
                <td>Applying Links</td>
                <td width="170" align="center">Action</td>
            </tr>
            @foreach (GCNI.Models.Carrers obj in Model.objCarrers_ML)
            {
                if (obj.Category == "Job opportunities")
                {
                <tr>
                    <td>
                        <span>@Html.Raw(obj.Category)</span>
                    </td>
                    <td>
                        <span>@Html.Raw(obj.JobTitle)</span>
                    </td>
                    <td>
                        <span>@Html.Raw(obj.Duration)</span>
                    </td>
                    <td>
                        <span>@Html.Raw(obj.JobDescription)</span>
                    </td>
                    <td>
                        <span>@Html.Raw(obj.ApplyEmail)</span>
                    </td>
                    <td>
                        <input type="hidden" value='@obj.id' data-Cat='@obj.Category' data-JobTitle='@obj.JobTitle' data-Duration='@obj.Duration' data-Des='@obj.JobDescription' data-ApplyEmail='@obj.ApplyEmail'/>
                        <span><input id="Edit" class="testbutton1" type="Submit" value="Edit" name="btntype" onclick="FillEdit('tblData2',@obj.id); return false;" />@*<a href="#" onclick="FillEdit(@obj.id); return false;">Edit</a>*@ / <input id="Delete" class="testbutton1" type="submit" value="Delete" name="btntype" onclick="Deleterecord(@obj.id);" />@*<a href="#" onclick="Deleterecord(@obj.id); return false;">Delete</a></span>*@
                    </td>
                </tr>
                }
            }
        </table>
    <table id="tblData3" class="CSSTableGenerator">
        <tr bgcolor="lightgray">
            <td colspan="6"><b>Partner Heading And Link Data Table</b></td>
        </tr>
            <tr>
                <td>Category</td>
                <td>Partner Heading</td>
                <td>Partner Link</td>
                <td width="170" align="center">Action</td>
            </tr>
            @foreach (GCNI.Models.Carrers obj in Model.objCarrers_ML)
            {
                if (obj.Category == "opportunities With Our Partners")
                {
                <tr>
                    <td>
                        <span>@Html.Raw(obj.Category)</span>
                    </td>
                    <td>
                        <span>@Html.Raw(obj.LastHead)</span>
                    </td>
                    <td>
                        <span>@Html.Raw(obj.LinkEmail)</span>
                    </td>
                    <td>
                        <input type="hidden" value='@obj.id' data-Cat='@obj.Category' data-lasthead='@obj.LastHead' data-linkEmail='@obj.LinkEmail' />
                        <span><input id="Edit" class="testbutton1" type="Submit" value="Edit" name="btntype" onclick="FillEdit('tblData3',@obj.id); return false;" />@*<a href="#" onclick="FillEdit(@obj.id); return false;">Edit</a>*@ / <input id="Delete" class="testbutton1" type="submit" value="Delete" name="btntype" onclick="Deleterecord(@obj.id);" />@*<a href="#" onclick="Deleterecord(@obj.id); return false;">Delete</a></span>*@
                    </td>
                </tr>
                }
            }
        </table>

    </center>
    <input type="hidden" id="hdd" name="hdd" value="0" />
    <input type="hidden" id="id" name="id" value="0" />
    <input type="hidden" id="img" name="img" value="0" />
    <input type="hidden" id="file" name="file" value="0" />
}
   @* </body>
    </html>*@
<script>
    function msgclear()
    {
        debugger;
        $("#msg").hide();
    }
</script>
   <script type="text/javascript">
       $(document).ready ( function(){
           debugger;
           //alert('ok');
           $('#cat').val('');
           $('#Head').val('');
           $("#JOBTitle").val('');
           $('#Duration').val('');
           $('#JOBDesc').val('');
           $("#APLINK").val('');
           $('#PertnerHead').val('');
           $('#PartnerLink').val('');
           var text_box1 = document.getElementById('Cat');
           text_box1.setAttribute('readonly', 'readonly');
       //$('input:checkbox').prop('checked', false);
       });
       function FillEdit(tbl,obj) {
           debugger;
           //alert(obj);
           $("#hdd").val(obj);
           //$("#upload1").removeClass("error");
           var $ele = $("#"+tbl+" tr td input[value=" + obj + "]");
           if ($ele != null) {
               $("#cat").val($ele.attr("data-Cat"));
               $("#Head").val($ele.attr("data-head"));
               $("#JOBTitle").val($ele.attr("data-JobTitle"));
               $("#Duration").val($ele.attr("data-Duration"));
               $("#JOBDesc").val($ele.attr("data-Des"));
               $("#APLINK").val($ele.attr("data-ApplyEmail"));
               $("#PertnerHead").val($ele.attr("data-lasthead"));
               $("#PartnerLink").val($ele.attr("data-linkEmail"));
               if(tbl=='tblData1')
               {
                   $("#Cat").val('Heading');
                   $('#t1').show();
                   $('#t2').hide();
                   $('#t3').hide();
                   $('#t4').hide();
                   $('#t5').hide();
                   $('#t6').hide();
                   $('#t7').hide();
               }
               else if(tbl=='tblData2')
               {
                   $("#Cat").val('Job opportunities');
                   $('#t1').hide();
                   $('#t2').show();
                   $('#t3').show();
                   $('#t4').show();
                   $('#t5').show();
                   $('#t6').hide();
                   $('#t7').hide();
               }
               else if(tbl=='tblData3')
               {
                   $("#Cat").val('opportunities With Our Partners');
                   $('#t1').hide();
                   $('#t2').hide();
                   $('#t3').hide();
                   $('#t4').hide();
                   $('#t5').hide();
                   $('#t6').show();
                   $('#t7').show();
               }
               window.document.body.scrollTop = '10';
               //$('#file').val($ele.attr("data-fileURL"));
               //if (($ele.attr("data-disp")) == "True") {
               //    document.getElementById('IsDisp').checked = true;
               //    //$('#IsDisp').checked = true;
               //}
               //else { document.getElementById('IsDisp').checked = false; }
           }

       }
    </script>
<script type="text/javascript">
    function Deleterecord(obj) {
        var status = confirm('Are you sure to delete');
        if (status) {
            //alert(obj);
            $("#id").val(obj);
        }
    }
    </script>
     @*<script type="text/javascript">
         function Deleterecord(obj) {
             var status = confirm('Are you sure to delete');
             if (status) {
                 $.ajax({
                     type: "post",
                     url: "/Admin/PublicationManagement",
                     data: { "id": obj },
                     success: (function (data) {

                         $("#divThinktable").html(data);
                     }),
                     fail: (function (data) {
                     })
                 });
             }
         }
    </script>*@
<style type="text/css">
    .error
    {
        border: solid!important;
        border-color: red!important;
    }
</style>
<script>
    $("#ThinkDDL li a").click(function () {
        debugger;
        var el = $(this).attr("data-op");
        //alert(el);
        //$("#Cat").val(el);
        if(el=="1")
        {
            $("#Cat").val('Heading');
            $('#t1').show();
            $('#t2').hide();
            $('#t3').hide();
            $('#t4').hide();
            $('#t5').hide();
            $('#t6').hide();
            $('#t7').hide();
        }
        else if(el=="2")
        {
            $("#Cat").val('Job opportunities');
            $('#t1').hide();
            $('#t2').show();
            $('#t3').show();
            $('#t4').show();
            $('#t5').show();
            $('#t6').hide();
            $('#t7').hide();
        }
        else if(el=="3")
        {
            $("#Cat").val('opportunities With Our Partners');
            $('#t1').hide();
            $('#t2').hide();
            $('#t3').hide();
            $('#t4').hide();
            $('#t5').hide();
            $('#t6').show();
            $('#t7').show();
        }
    });
</script>
     @*<script type="text/javascript">
         function RemoveClass(obj) {
             $(obj).removeClass("error");
         }
         function Validate() 
         {
             debugger;
             if ((hdd).value == null || (hdd).value.length < 1 || (hdd).value == "0") 
             {
                 if ($("#upload").val().length<1)
                 {
                     $("#upload").addClass("error");
                     return false;
                 }
                 else
                 {
                     $("#upload").removeClass("error"); 
                     return true;
                 }
                 return false;   
             }
             else
             {
                     return true;
             }
        }
     </script>*@
